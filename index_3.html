<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Điểm tin - Quiz Game</title>
  <style>
    /* 
      ====================================================
      1) THEME VARIABLES
      ====================================================
      We use CSS variables for easy theming. 
      Toggle with [data-theme="dark"] for dark mode overrides.
    */
    :root {
      --bg-color: #f4f4f4;
      --text-color: #333;
      --container-bg: #fff;
      --primary-color: #007BFF;
      --secondary-color: #555;
      --border-color: #ddd;
      --answer-bg-hover: #e0e0e0;
    }

    [data-theme="dark"] {
      --bg-color: #1f1f1f;
      --text-color: #eee;
      --container-bg: #2a2a2a;
      --primary-color: #66aaff;
      --secondary-color: #ccc;
      --border-color: #555;
      --answer-bg-hover: #444;
    }

    /*
      ====================================================
      2) GLOBAL BASE STYLING
      ====================================================
    */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: Arial, sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
      transition: background-color 0.3s, color 0.3s;
      position: relative;
      overflow-x: hidden;
    }
    a {
      color: var(--text-color);
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }

    .container {
      max-width: 900px;
      margin: 20px auto;
      background: var(--container-bg);
      padding: 25px;
      border-radius: 8px;
      box-shadow: 0 0 12px rgba(0, 0, 0, 0.1);
      position: relative;
      transition: background-color 0.3s;
    }

    /* Responsive design: Container padding & fonts scale on smaller screens */
    @media (max-width: 600px) {
      .container {
        padding: 15px;
      }
      h3 {
        font-size: 1.1rem;
      }
    }

    /*
      ====================================================
      3) SCOREBOARD & CONTROLS
      ====================================================
    */
    .header-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 20px;
    }
    .scoreboard {
      display: flex;
      align-items: center;
      font-size: 18px;
      font-weight: bold;
      gap: 8px;
    }
    .scoreboard-icon {
      width: 24px;
      height: 24px;
      background-color: #ffcc00;
      mask: url('data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjMDA3QkZGIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+CjxwYXRoIGQ9Ik0xMiA1LjgybC0yLjY0LDUuMzMtNS44Ny44NjcsNCwyLjYyMWwtLjg3LDUuODcsNS4zMy0yLjY0TDExLDE5bDIuNjQtNS4zMyw1Ljg3LS44NjctNC0yLjYyMS44Ny01Ljg3LTUuMzMsMi42NE0xMiA0TDE1IDEwTDIyIDExTDE3IDE1LjE2TDExIDE0TDEwIDIxTDcgMTVIMFYxMUw2IDEwTDEyIDRaIi8+Cjwvc3ZnPg==') center/contain no-repeat;
    }

    .controls {
      display: flex;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
    }
    .controls label {
      font-weight: bold;
      color: var(--secondary-color);
    }
    .controls select {
      padding: 6px;
      font-size: 14px;
      border: 1px solid var(--border-color);
      border-radius: 3px;
      background: transparent;
      color: var(--text-color);
      outline: none;
      transition: background-color 0.2s;
    }
    .controls select:hover {
      background-color: var(--answer-bg-hover);
    }

    .btn {
      padding: 8px 16px;
      font-size: 14px;
      border: none;
      border-radius: 3px;
      cursor: pointer;
      background-color: var(--primary-color);
      color: #fff;
      transition: background-color 0.3s ease, transform 0.2s, box-shadow 0.2s;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .btn:hover {
      background-color: #0056b3;
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }

    /*
      ====================================================
      4) NEWS ITEM & ANIMATIONS
      ====================================================
    */
    .news-item {
      border-bottom: 1px solid var(--border-color);
      padding: 15px 0;
      animation: slideIn 0.4s ease both; /* Slide in animation */
    }
    .news-item:last-child {
      border-bottom: none;
    }
    .news-item p {
      margin: 6px 0;
      line-height: 1.5;
      transition: color 0.3s;
    }
    .news-link {
      display: inline-block;
      margin-bottom: 8px;
      font-size: 0.95rem;
      color: var(--secondary-color);
      transition: color 0.3s;
    }
    .news-link:hover {
      color: var(--text-color);
    }

    @keyframes slideIn {
      from { transform: translateX(20px); opacity: 0; }
      to   { transform: translateX(0);   opacity: 1; }
    }

    .loading {
      text-align: center;
      font-size: 16px;
      color: gray;
      margin-top: 20px;
    }

    /* 
      ====================================================
      5) BACK-TO-TOP BUTTON
      ====================================================
    */
    #back-to-top {
      position: fixed;
      bottom: 30px;
      right: 30px;
      display: none;
      background-color: var(--primary-color);
      color: #fff;
      border: none;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      font-size: 20px;
      cursor: pointer;
      box-shadow: 0 2px 5px rgba(0,0,0,0.3);
      transition: opacity 0.3s ease, background-color 0.3s;
      z-index: 9990;
    }
    #back-to-top:hover {
      background-color: #0056b3;
    }

    /*
      ====================================================
      6) ANSWER BUTTONS & FEEDBACK
      ====================================================
    */
    .answer-btn {
      display: inline-block;
      margin: 8px 8px 8px 0;
      padding: 8px 12px;
      border: 1px solid var(--border-color);
      border-radius: 20px;
      cursor: pointer;
      background-color: #f1f1f1;
      transition: transform 0.2s, background-color 0.3s, border 0.3s;
      color: #000;
    }
    [data-theme="dark"] .answer-btn {
      background-color: #444;
      color: #fff;
    }
    .answer-btn:hover {
      background-color: var(--answer-bg-hover);
      transform: scale(1.05);
    }
    .answer-btn.correct {
      background-color: #c1f0c1 !important;
      border-color: #50b750;
      color: #000;
    }
    .answer-btn.incorrect {
      background-color: #f9bdbd !important;
      border-color: #e05b5b;
      animation: shake 0.3s;
      color: #000;
    }
    @keyframes shake {
      0% { transform: translateX(0); }
      20% { transform: translateX(-6px); }
      40% { transform: translateX(6px); }
      60% { transform: translateX(-4px); }
      80% { transform: translateX(4px); }
      100% { transform: translateX(0); }
    }

    /*
      ====================================================
      7) CELEBRATION & CONFETTI
      ====================================================
    */
    #celebration {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.7);
      background-color: var(--container-bg);
      padding: 20px 30px;
      border-radius: 8px;
      border: 2px solid var(--primary-color);
      text-align: center;
      font-size: 20px;
      color: var(--text-color);
      font-weight: bold;
      opacity: 0;
      pointer-events: none;
      transition: all 0.35s ease-in-out;
      z-index: 9999;
    }
    #celebration.show {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1);
    }

    .confetti {
      position: fixed;
      top: 0;
      width: 10px;
      height: 10px;
      background-color: red;
      animation: fall 1.5s linear forwards;
      z-index: 9998; 
    }
    @keyframes fall {
      0% { transform: translateY(-20px) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
    }

    /*
      ====================================================
      8) TUTORIAL OVERLAY (for first-time users)
      ====================================================
    */
    .overlay {
      position: fixed;
      top: 0; 
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.7);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9998; /* Just below the #celebration */
    }
    .overlay.hidden {
      display: none;
    }
    .overlay-content {
      background-color: var(--container-bg);
      border: 2px solid var(--primary-color);
      border-radius: 8px;
      padding: 20px;
      max-width: 400px;
      text-align: center;
      color: var(--text-color);
      box-shadow: 0 0 15px rgba(0,0,0,0.2);
      animation: fadeInUp 0.5s ease;
    }
    @keyframes fadeInUp {
      0%   { transform: translateY(30px); opacity: 0; }
      100% { transform: translateY(0);   opacity: 1; }
    }
  </style>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-W9WTM4SP');</script>
    <!-- End Google Tag Manager -->
</head>
<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W9WTM4SP"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  <!-- Tutorial Overlay for first-time users -->
  <div id="tutorial-overlay" class="overlay hidden">
    <div class="overlay-content">
      <h2>Chào mừng bạn đến với Quiz Game!</h2>
      <p>Trả lời nhanh tin tức nóng hổi để tích lũy điểm.<br/>
         Chọn đáp án đúng, bạn sẽ được +1 điểm và hiệu ứng pháo hoa!</p>
      <button id="tutorial-close-btn" class="btn">Bắt đầu chơi!</button>
    </div>
  </div>

  <!-- Celebration message overlay (hidden by default) -->
  <div id="celebration">Chúc mừng! +1 điểm</div>

  <!-- BACKGROUND MUSIC (optional) -->
  <audio id="bg-music" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" loop></audio>
  <!-- Correct / Incorrect SFX -->
  <audio id="correct-sound" src="https://www.soundjay.com/misc/sounds/bell-ringing-05.mp3"></audio>
  <audio id="incorrect-sound" src="https://www.soundjay.com/button/sounds/beep-07.mp3"></audio>

  <div class="container">
    <!-- HEADER BAR: scoreboard + controls + theme toggle + sound toggle -->
    <div class="header-bar">
      <!-- Scoreboard -->
      <div class="scoreboard">
        <div class="scoreboard-icon"></div>
        <span>Điểm của bạn:</span> 
        <span id="user-score">0</span>
      </div>

      <!-- Filter & other controls -->
      <div class="controls">
        <label for="news-filter">Điểm tin:</label>
        <select id="news-filter">
          <option value="important">Tin mới</option>
          <option value="positive">Tin vui</option>
          <option value="the-gioi">Thế Giới</option>
          <option value="thoi-su">Thời Sự</option>
          <option value="kinh-doanh">Kinh Doanh</option>
          <option value="giai-tri">Giải Trí</option>
          <option value="the-thao">Thể Thao</option>
          <option value="phap-luat">Pháp Luật</option>
          <option value="giao-duc">Giáo Dục</option>
          <option value="suc-khoe">Sức Khỏe</option>
          <option value="gia-dinh">Gia Đình</option>
          <option value="du-lich">Du Lịch</option>
          <option value="cong-nghe">Công Nghệ</option>
          <option value="oto-xe-may">Ôtô Xe Máy</option>
          <option value="y-kien">Ý Kiến</option>
          <option value="tin-khac">Tin Khác</option>
        </select>

        <!-- Dark Mode Toggle -->
        <button id="toggle-theme" class="btn">Dark Mode</button>

        <!-- Sound Toggle -->
        <button id="toggle-sound" class="btn">Sound OFF</button>
      </div>
    </div>
    
    <div id="news-container"></div>
    <div id="loading" class="loading">Loading more news...</div>
  </div>
  
  <button id="back-to-top">&#8679;</button>

  <script>
    /*
      Replace this with your actual news data.
      Example structure:
      [
        {
          "title": "...",
          "link": "...",
          "content": "...",
          "importance": 10,
          "positivity": 5,
          "cat": "the-gioi",
          "question": "What is ...?",
          "answers": [
            { "text": "Option A", "correct": false },
            { "text": "Option B", "correct": true }
          ]
        },
        ...
      ]
    */
    const newsData = [{"title":"Khoảnh khắc máy bay Mỹ né phi cơ chạy cắt mặt trên đường băng","content":"Vào sáng ngày 25/2, một máy bay của hãng Southwest Airlines suýt va chạm với một phi cơ tư nhân đang chạy cắt mặt trên đường băng tại Sân bay Quốc tế Chicago Midway. Sự việc xảy ra khi máy bay Southwest Airlines hạ cánh và buộc phải tăng độ cao để tránh va chạm. Sau đó, chuyến bay đã hạ cánh an toàn 20 phút sau đó. Cục Hàng không Liên bang Mỹ (FAA) đã mở cuộc điều tra về sự việc này, trong bối cảnh một chuỗi sự cố hàng không gần đây ở Mỹ gây lo ngại.","link":"https://vnexpress.net/khoanh-khac-may-bay-my-ne-phi-co-chay-cat-mat-tren-duong-bang-4854108.html","cat":"thoi-su","positivity":7,"importance":8,"question":"Máy bay nào phải tăng độ cao để né phi cơ tư nhân trên đường băng?","answers":[{"text":"Máy bay Southwest Airlines","correct":true},{"text":"Máy bay tư nhân","correct":false},{"text":"Máy bay của hãng American Airlines","correct":false},{"text":"Máy bay chở hàng","correct":false}]},{"title":"Nhà Trắng lần đầu công bố lãnh đạo DOGE","content":"Nhà Trắng đã công bố Amy Gleason là quyền lãnh đạo của Ban Hiệu suất Chính phủ (DOGE) sau nhiều tuần từ chối công bố người đứng đầu. Gleason từng làm việc tại Cơ quan Chuyển đổi số Mỹ và có kinh nghiệm trong lĩnh vực công nghệ y tế. Sắc lệnh hành pháp thành lập DOGE đã chỉ định cơ quan này thuộc nhánh hành pháp, nhưng không đề cập đến tỷ phú Elon Musk trong vai trò lãnh đạo, mặc dù ông thường xuyên gây tranh cãi liên quan đến DOGE.","link":"https://vnexpress.net/nha-trang-lan-dau-cong-bo-lanh-dao-doge-4854118.html","cat":"thoi-su","positivity":6,"importance":7,"question":"Ai là quyền lãnh đạo của Ban Hiệu suất Chính phủ (DOGE) theo thông báo từ Nhà Trắng?","answers":[{"text":"Amy Gleason","correct":true},{"text":"Elon Musk","correct":false},{"text":"Donald Trump","correct":false},{"text":"Joe Biden","correct":false},{"text":"Kamala Harris","correct":false}]},{"title":"Israel không kích miền nam Syria","content":"Israel đã tiến hành không kích vào các mục tiêu quân sự ở miền nam Syria, bao gồm sở chỉ huy và kho vũ khí, nhằm đối phó với mối đe dọa từ sự hiện diện quân sự tại khu vực này. Bộ Quốc phòng Israel thông báo rằng các cuộc tấn công diễn ra sau khi Thủ tướng Netanyahu kêu gọi phi quân sự hóa miền nam Syria. Theo thông tin từ Tổ chức Giám sát Nhân quyền Syria, ít nhất hai người đã thiệt mạng trong các cuộc không kích này, nhưng chưa rõ họ là quân nhân hay dân thường.","link":"https://vnexpress.net/israel-khong-kich-mien-nam-syria-4854100.html","cat":"the-gioi","positivity":3,"importance":7,"question":"Tại sao Israel tiến hành không kích ở miền nam Syria?","answers":[{"text":"Để đối phó với mối đe dọa từ sự hiện diện quân sự tại khu vực.","correct":true},{"text":"Để hỗ trợ quân đội Syria.","correct":false},{"text":"Để tấn công các nhóm vũ trang dân sự.","correct":false},{"text":"Để bảo vệ các khu vực dân cư của Syria.","correct":false}]},{"title":"Ông Trump muốn Mỹ bán 'thẻ vàng' nhập cư 5 triệu USD","content":"Tổng thống Mỹ Donald Trump đã công bố một chương trình visa mới mang tên 'thẻ vàng', cho phép người nước ngoài nhập cư hợp pháp vào Mỹ với mức phí 5 triệu USD. Ông cho biết chương trình này sẽ được khởi động trong vòng hai tuần tới và không cần sự phê duyệt từ quốc hội. Thẻ vàng này sẽ thay thế chương trình visa EB-5 hiện tại, và doanh thu từ chương trình sẽ được sử dụng để giảm thâm hụt ngân sách của chính phủ.","link":"https://vnexpress.net/ong-trump-muon-my-ban-the-vang-nhap-cu-5-trieu-usd-4854089.html","cat":"thoi-su","positivity":6,"importance":7,"question":"Ông Trump đang đề xuất chương trình visa nào mới cho người nhập cư?","answers":[{"text":"Thẻ vàng","correct":true},{"text":"Thẻ xanh","correct":false},{"text":"EB-5","correct":false},{"text":"Thẻ đỏ","correct":false},{"text":"Thẻ bạc","correct":false}]},{"title":"Ukraine - Mỹ đạt được khung thỏa thuận về khoáng sản","content":"Ukraine và Mỹ đã thống nhất bộ khung cho thỏa thuận hợp tác khai thác khoáng sản, loại bỏ các điều khoản bất hợp lý với Kiev. Tổng thống Mỹ Donald Trump cho biết Tổng thống Ukraine dự kiến sẽ đến Washington vào cuối tháng này để bàn về thỏa thuận. Theo thỏa thuận, doanh thu từ việc khai thác khoáng sản sẽ được chuyển vào một quỹ đầu tư mới do cả hai nước cùng quản lý, với Ukraine đóng góp 50% doanh thu từ tài nguyên nhà nước trong tương lai.","link":"https://vnexpress.net/ukraine-my-dat-duoc-khung-thoa-thuan-ve-khoang-san-4854084.html","cat":"the-gioi","positivity":8,"importance":9,"question":"Thỏa thuận khoáng sản giữa Ukraine và Mỹ sẽ ảnh hưởng như thế nào đến quan hệ hai nước?","answers":[{"text":"Thỏa thuận sẽ củng cố quan hệ hợp tác giữa Ukraine và Mỹ.","correct":true},{"text":"Thỏa thuận không có tác động gì đến quan hệ hai nước.","correct":false},{"text":"Thỏa thuận sẽ làm cho Ukraine phụ thuộc hơn vào Mỹ.","correct":false},{"text":"Thỏa thuận chỉ ảnh hưởng đến lĩnh vực quốc phòng.","correct":false}]},{"title":"Nỗ lực của ông Macron thuyết phục ông Trump về Ukraine","content":"Tổng thống Pháp Emmanuel Macron đã có chuyến thăm Washington vào ngày 24/2 nhằm thuyết phục Tổng thống Mỹ Donald Trump hỗ trợ Ukraine và cải thiện mối quan hệ giữa châu Âu và Mỹ. Ông Macron nhấn mạnh tầm quan trọng của việc duy trì sự đoàn kết giữa Mỹ và châu Âu trong bối cảnh Trump có xu hướng xích lại gần Nga. Trong cuộc gặp, Macron đã bày tỏ quan điểm rằng không nên quá tin tưởng vào Tổng thống Nga Vladimir Putin và cần có sự răn đe mạnh mẽ từ Mỹ để bảo vệ an ninh châu Âu. Dù vậy, ông Trump không đưa ra cam kết rõ ràng về việc hỗ trợ Ukraine.","link":"https://vnexpress.net/no-luc-cua-ong-macron-thuyet-phuc-ong-trump-ve-ukraine-vnepre-4853619.html","cat":"the-gioi","positivity":5,"importance":8,"question":"Ông Macron đã làm gì trong chuyến thăm Washington để thuyết phục ông Trump về Ukraine?","answers":[{"text":"Thuyết phục ông Trump hỗ trợ Ukraine và cải thiện quan hệ châu Âu - Mỹ","correct":true},{"text":"Ký kết một thỏa thuận mới với ông Trump","correct":false},{"text":"Đưa ra cam kết quân sự cho Ukraine","correct":false},{"text":"Chỉ trích ông Putin một cách mạnh mẽ","correct":false},{"text":"Tổ chức hội nghị thượng đỉnh với các lãnh đạo châu Âu","correct":false}]},{"title":"Những đặc quyền của con cái tổng thống Mỹ","content":"Con cái của tổng thống Mỹ được hưởng nhiều đặc quyền như tổ chức sự kiện tại Nhà Trắng, di chuyển bằng chuyên cơ Air Force One và có sự bảo vệ của mật vụ. Họ cũng có cơ hội giao lưu với những nhân vật nổi tiếng và có quyền xem trước các bộ phim trước khi công chiếu. Một số con cái tổng thống đã tổ chức đám cưới và các sự kiện quan trọng tại Nhà Trắng, đồng thời gia đình tổng thống còn có đội ngũ đầu bếp phục vụ riêng.","link":"https://vnexpress.net/nhung-dac-quyen-cua-con-cai-tong-thong-my-4853184.html","cat":"the-gioi","positivity":8,"importance":7,"question":"Con cái tổng thống Mỹ có những đặc quyền gì đặc biệt?","answers":[{"text":"Tổ chức sự kiện tại Nhà Trắng","correct":true},{"text":"Không được sử dụng Air Force One","correct":false},{"text":"Không có sự bảo vệ của mật vụ","correct":false},{"text":"Không có quyền xem phim trước công chúng","correct":false}]},{"title":"Thủ tướng New Zealand đến Việt Nam","content":"Thủ tướng New Zealand Christopher Luxon đã đến Hà Nội, bắt đầu chuyến thăm chính thức Việt Nam từ ngày 25 đến 28/2 theo lời mời của Thủ tướng Phạm Minh Chính. Trong chuyến thăm, ông sẽ hội đàm với các lãnh đạo cao cấp và tham dự Diễn đàn Tương lai ASEAN lần thứ hai. Chuyến thăm này đánh dấu kỷ niệm 50 năm thiết lập quan hệ ngoại giao giữa hai nước và kỳ vọng nâng cao quan hệ đối tác giữa New Zealand và Việt Nam.","link":"https://vnexpress.net/thu-tuong-new-zealand-den-viet-nam-4854024.html","cat":"the-gioi","positivity":8,"importance":9,"question":"Thủ tướng New Zealand Christopher Luxon đến Việt Nam để làm gì?","answers":[{"text":"Để tham dự Diễn đàn Tương lai ASEAN","correct":true},{"text":"Để ký hiệp định thương mại","correct":false},{"text":"Để thăm các cơ sở quân sự","correct":false},{"text":"Để tổ chức lễ hội văn hóa","correct":false},{"text":"Để gặp gỡ cộng đồng người Việt tại New Zealand","correct":false}]},{"title":"Tranh cãi về vận động viên chuyển giới khiến bang Maine đối đầu ông Trump","content":"Tranh cãi về sắc lệnh cấm vận động viên chuyển giới tham gia thể thao nữ giữa Tổng thống Trump và Thống đốc bang Maine, Janet Mills, đã dẫn đến một cuộc đối đáp nảy lửa tại Nhà Trắng. Ông Trump yêu cầu bang Maine tuân thủ sắc lệnh nếu không muốn bị cắt giảm tài trợ liên bang, trong khi bà Mills khẳng định bang sẽ tiếp tục thực hiện luật của bang bảo vệ quyền lợi cho sinh viên chuyển giới. Cuộc tranh luận này diễn ra trong bối cảnh căng thẳng chính trị và pháp lý giữa chính quyền bang Maine và chính quyền liên bang.","link":"https://vnexpress.net/tranh-cai-ve-van-dong-vien-chuyen-gioi-khien-bang-maine-doi-dau-ong-trump-4853393.html","cat":"thoi-su","positivity":4,"importance":7,"question":"Cuộc tranh cãi giữa Tổng thống Trump và Thống đốc Maine về vấn đề gì?","answers":[{"text":"Vận động viên chuyển giới tham gia thể thao nữ","correct":true},{"text":"Chính sách thuế mới","correct":false},{"text":"Quy định về giáo dục","correct":false},{"text":"Chính sách nhập cư","correct":false}]},{"title":"Thủ tướng đề xuất ba ưu tiên chiến lược với ASEAN","content":"Thủ tướng Phạm Minh Chính đã đề xuất ba ưu tiên chiến lược cho ASEAN tại Diễn đàn Tương lai ASEAN lần thứ hai, bao gồm củng cố sự tự chủ chiến lược, xây dựng nền kinh tế tự cường và giữ vững giá trị bản sắc của ASEAN. Ông nhấn mạnh tầm quan trọng của đoàn kết và hợp tác công - tư trong việc phát triển khu vực. Diễn đàn cũng bàn luận về những thách thức và xu hướng lớn ảnh hưởng đến ASEAN trong tương lai.","link":"https://vnexpress.net/thu-tuong-de-xuat-ba-uu-tien-chien-luoc-voi-asean-4853978.html","cat":"thoi-su","positivity":8,"importance":9,"question":"Thủ tướng đã đề xuất những ưu tiên chiến lược nào cho ASEAN?","answers":[{"text":"Củng cố tự chủ, xây dựng nền kinh tế tự cường, giữ vững giá trị bản sắc","correct":true},{"text":"Tăng cường quân sự, phát triển công nghệ cao, mở rộng thị trường","correct":false},{"text":"Thúc đẩy hợp tác quốc tế, xây dựng quy trình ra quyết định, giảm thuế","correct":false},{"text":"Tăng cường đầu tư nước ngoài, phát triển du lịch, kiểm soát dịch bệnh","correct":false}]},{"title":"Israel phóng nhầm tên lửa trăm nghìn USD vì báo động giả","content":"Israel đã phóng hai tên lửa đánh chặn với tổng trị giá 100.000-200.000 USD vào một mục tiêu trên không nhưng sau đó xác định đây là báo động nhầm. Lực lượng Phòng vệ Israel (IDF) cho biết báo động không kích đã vang lên vào sáng 25/2 tại các khu định cư gần Cao nguyên Golan. Việc này đã dẫn đến sự lo ngại về mảnh vỡ từ tên lửa rơi xuống khu dân cư, và IDF đang tiến hành điều tra sự việc.","link":"https://vnexpress.net/israel-phong-nham-ten-lua-tram-nghin-usd-vi-bao-dong-gia-4853915.html","cat":"the-gioi","positivity":3,"importance":7,"question":"Tại sao Israel lại phóng nhầm tên lửa trị giá hàng trăm nghìn USD?","answers":[{"text":"Do báo động nhầm","correct":true},{"text":"Vì có thông tin tình báo sai lệch","correct":false},{"text":"Để thực hiện một cuộc tấn công trả đũa","correct":false},{"text":"Vì sự cố kỹ thuật trong hệ thống phòng không","correct":false}]},{"title":"Ông Trump phủ bóng cuộc tranh luận ứng viên thủ tướng Canada","content":"Trong cuộc tranh luận trực tiếp giữa bốn ứng viên thủ tướng Canada vào ngày 24/2, Tổng thống Donald Trump trở thành chủ đề trọng tâm khi các ứng viên thảo luận về các mối đe dọa từ ông, đặc biệt là việc áp thuế lên hàng hóa Canada. Cựu giám đốc ngân hàng trung ương Mark Carney và cựu phó thủ tướng Chrystia Freeland nhấn mạnh rằng Trump đang trở thành một mối đe dọa lớn hơn đối với Canada, với ý định biến nước này thành bang thứ 51 của Mỹ. Các ứng viên cảnh báo rằng Canada có thể rơi vào khủng hoảng kinh tế nếu các biện pháp thuế quan được thực thi.","link":"https://vnexpress.net/ong-trump-phu-bong-cuoc-tranh-luan-ung-vien-thu-tuong-canada-4853850.html","cat":"thoi-su","positivity":3,"importance":8,"question":"Ông Trump đã đe dọa điều gì đối với Canada trong cuộc tranh luận ứng viên thủ tướng?","answers":[{"text":"Áp thuế lên hàng hóa Canada","correct":true},{"text":"Sáp nhập Canada thành bang thứ 51","correct":false},{"text":"Giảm thuế cho hàng hóa Canada","correct":false},{"text":"Tăng cường hợp tác thương mại với Canada","correct":false},{"text":"Không có mối đe dọa nào","correct":false}]},{"title":"Bộ trưởng Đức: Nga sẽ không được trở lại G7","content":"Bộ trưởng Tài chính Đức, Joerg Kukies, tuyên bố rằng Nga sẽ không được phép trở lại nhóm G7, phản đối đề xuất của Tổng thống Mỹ Donald Trump. Ông nhấn mạnh rằng G7 đã lên án mạnh mẽ hành động của Nga tại Ukraine và không có sự đồng thuận cho việc Nga quay lại. Kukies cũng cho biết G7 có thể thảo luận về việc sử dụng tài sản Nga bị đóng băng để tái thiết Ukraine, nhưng các cuộc thảo luận chỉ mới bắt đầu.","link":"https://vnexpress.net/bo-truong-duc-nga-se-khong-duoc-tro-lai-g7-4853874.html","cat":"the-gioi","positivity":3,"importance":8,"question":"Tại sao Nga không được trở lại G7 theo Bộ trưởng Tài chính Đức?","answers":[{"text":"Vì G7 đã lên án chiến dịch của Nga ở Ukraine.","correct":true},{"text":"Nga không có đủ tài chính để tham gia G7.","correct":false},{"text":"Tổng thống Trump không có đủ sự ủng hộ từ các nước khác.","correct":false},{"text":"Nga đã bị đình chỉ từ lâu và không thể quay lại.","correct":false}]},{"title":"G-Dragon 'quậy hết nấc', fan nức nở đúng là nhà vua trở lại mà!","content":"G-Dragon đã chính thức trở lại với album mới mang tên \"Übermensch\", đánh dấu sự trở lại sau 11 năm kể từ album trước. Ngay sau khi phát hành vào trưa 25-2, album đã nhanh chóng chiếm lĩnh các bảng xếp hạng âm nhạc Hàn Quốc, khẳng định vị thế của anh trong làng K-pop. Album bao gồm 8 ca khúc, trong đó có nhiều bài hát mới và một số đã phát hành trước. G-Dragon cũng đã phát hành các MV cho các bài hát chủ đề, thể hiện sự đa dạng và sáng tạo của mình trong âm nhạc và thời trang.","link":"https://tuoitre.vn/g-dragon-quay-het-nac-fan-nuc-no-dung-la-nha-vua-tro-lai-ma-20250225150643381.htm","cat":"giai-tri","positivity":9,"importance":8,"question":"G-Dragon đã phát hành album nào vào ngày 25-2-2025?","answers":[{"text":"Übermensch","correct":true},{"text":"COUP DE'TAT","correct":false},{"text":"Too Bad","correct":false},{"text":"Drama","correct":false},{"text":"Home Sweet Home","correct":false}]},{"title":"Xây dựng Luật Tiết kiệm chống lãng phí","content":"Thủ tướng Phạm Minh Chính đã chủ trì phiên họp đầu tiên của Ban Chỉ đạo phòng chống lãng phí, kêu gọi xây dựng văn hóa tiết kiệm và chống lãng phí trong toàn xã hội. Ông nhấn mạnh tầm quan trọng của việc hoàn thiện Luật Tiết kiệm chống lãng phí để trình Quốc hội và yêu cầu các bộ, ngành nghiêm túc thực hiện chỉ đạo nhằm giảm thiểu lãng phí nguồn lực. Thủ tướng cũng đề xuất áp dụng công nghệ số và trí tuệ nhân tạo trong quản lý để nâng cao hiệu quả và tiết kiệm trong các dự án đầu tư công.","link":"https://vnexpress.net/xay-dung-luat-tiet-kiem-chong-lang-phi-4853853.html","cat":"phap-luat","positivity":7,"importance":8,"question":"Luật Tiết kiệm chống lãng phí được xây dựng nhằm mục đích gì?","answers":[{"text":"Để tiết kiệm và chống lãng phí nguồn lực trong xã hội.","correct":true},{"text":"Để tăng cường quản lý tài chính cá nhân.","correct":false},{"text":"Để khuyến khích đầu tư từ nước ngoài.","correct":false},{"text":"Để thúc đẩy phát triển kinh tế địa phương.","correct":false}]},{"title":"Xe tăng mai rùa Nga vẫn chạy sau khi trúng loạt mìn Ukraine","content":"Xe tăng mai rùa của Nga đã tiếp tục di chuyển dù trúng ít nhất 6 quả mìn trong chiến sự với Ukraine. Đoạn video ghi lại cho thấy xe tăng này không giảm tốc độ mà vẫn tiếp tục hoạt động cho đến khi gặp phải một hố sâu và bị drone tấn công. Mặc dù xe tăng không có dấu hiệu cháy nổ, nhưng có khả năng đã bị mắc kẹt, trong khi một quân nhân từ xe đã rời đi nhưng không rõ tình trạng sức khỏe.","link":"https://vnexpress.net/xe-tang-mai-rua-nga-van-chay-sau-khi-trung-loat-min-ukraine-4853789.html","cat":"the-gioi","positivity":5,"importance":7,"question":"Xe tăng mai rùa Nga đã gặp phải tình huống gì khi tham chiến tại Ukraine?","answers":[{"text":"Trúng mìn và bị drone tấn công.","correct":true},{"text":"Cháy nổ và bị phá hủy hoàn toàn.","correct":false},{"text":"Không gặp bất kỳ vấn đề nào.","correct":false},{"text":"Đã phá hủy một số xe tăng của Ukraine.","correct":false},{"text":"Bị bắn hạ bởi tên lửa dẫn đường.","correct":false}]},{"title":"Mới đi làm, việc nào cũng chê, chỉ vài tháng lại nhảy việc thì kinh nghiệm đâu ra","content":"Bài viết đề cập đến việc nhiều người trẻ mới đi làm thường nhảy việc liên tục vì không hài lòng với công việc hiện tại, dẫn đến việc thiếu kinh nghiệm và không có thành tích nổi bật. Điều này khiến họ gặp khó khăn khi tìm kiếm những cơ hội việc làm tốt hơn trong tương lai. Tác giả nhấn mạnh rằng thành công đến từ sự kiên trì, tích lũy kinh nghiệm và khiêm tốn học hỏi, thay vì tìm kiếm những công việc lý tưởng ngay lập tức. Cuối cùng, bài viết khuyên rằng người trẻ nên chấp nhận thử thách và làm việc chăm chỉ để tạo dựng nền tảng vững chắc cho sự nghiệp của mình.","link":"https://tuoitre.vn/moi-di-lam-viec-nao-cung-che-chi-vai-thang-lai-nhay-viec-thi-kinh-nghiem-dau-ra-20250225142405195.htm","cat":"giao-duc","positivity":6,"importance":8,"question":"Tại sao việc nhảy việc liên tục không mang lại kinh nghiệm giá trị cho người trẻ?","answers":[{"text":"Bởi vì nhảy việc liên tục sẽ chỉ đem lại những kinh nghiệm tạm bợ, không đủ sâu sắc để tạo dựng sự nghiệp.","correct":true},{"text":"Vì người trẻ không có thời gian để học hỏi và tích lũy kỹ năng cần thiết.","correct":false},{"text":"Vì sự thiếu kiên trì sẽ khiến họ không thể phát triển trong môi trường làm việc.","correct":false},{"text":"Bởi vì không có công việc nào dễ dàng và cần sự chấp nhận thử thách.","correct":false}]},{"title":"Giá bitcoin rơi tự do, nhà đầu tư sợ hãi bán tháo","content":"Giá bitcoin đã rơi tự do, giảm xuống dưới 91.000 USD/BTC và hiện được giao dịch ở mức 88.000 USD, khiến nhà đầu tư hoang mang và có nhiều người bán tháo. Tình hình xấu trên thị trường tiền mã hóa đã làm mất hơn 1 tỷ USD giá trị đầu tư, với chỉ số tâm lý nhà đầu tư giảm xuống mức cảnh báo. Nguyên nhân chính của sự sụt giảm này có thể là do tin tức tiêu cực liên quan đến vụ tấn công sàn giao dịch Bybit và việc Hạ viện Montana bác bỏ dự luật thành lập quỹ dự trữ bitcoin.","link":"https://dantri.com.vn/kinh-doanh/gia-bitcoin-roi-tu-do-nha-dau-tu-so-hai-ban-thao-20250225145613041.htm","cat":"kinh-doanh","positivity":2,"importance":9,"question":"Tại sao giá bitcoin giảm mạnh vào ngày 25/2/2025?","answers":[{"text":"Do tin tức xấu và vụ tấn công sàn giao dịch tiền mã hóa.","correct":true},{"text":"Vì sự gia tăng nhu cầu từ các nhà đầu tư.","correct":false},{"text":"Do sự ổn định của thị trường chứng khoán.","correct":false},{"text":"Vì lãi suất dài hạn giảm.","correct":false}]},{"title":"7 hành tinh thẳng hàng trên bầu trời tháng 2","content":"Vào tối 28/2, tất cả 7 hành tinh trong hệ Mặt Trời, bao gồm sao Thổ, sao Thủy, sao Hải Vương, sao Kim, sao Thiên Vương, sao Mộc và sao Hỏa, sẽ thẳng hàng trên bầu trời đêm. Hiện tượng này hiếm gặp, với việc các hành tinh thường chỉ xếp hàng 5-6 cái. Các nhà thiên văn học gợi ý tìm một nơi tối để quan sát, với sao Kim là hành tinh sáng nhất và sao Hỏa dễ nhận biết với màu hồng đặc trưng. Đây là một cơ hội tuyệt vời cho những người yêu thích thiên văn học.","link":"https://vnexpress.net/7-hanh-tinh-thang-hang-tren-bau-troi-thang-2-4853602.html","cat":"giai-tri","positivity":9,"importance":8,"question":"Có bao nhiêu hành tinh sẽ thẳng hàng trên bầu trời vào tối 28/2?","answers":[{"text":"7 hành tinh","correct":true},{"text":"5 hành tinh","correct":false},{"text":"6 hành tinh","correct":false},{"text":"3 hành tinh","correct":false},{"text":"4 hành tinh","correct":false}]},{"title":"Vì sao ung thư tuyến tiền liệt thường phát hiện muộn?","content":"Ung thư tuyến tiền liệt thường được phát hiện muộn vì giai đoạn đầu của bệnh thường không có triệu chứng rõ ràng, hoặc triệu chứng không đặc hiệu như tiểu khó, tiểu nhiều lần. Nhiều nam giới không chú ý đến các triệu chứng này và nghĩ rằng chúng là do tuổi tác, dẫn đến việc không đi khám sớm. Khi bệnh đã tiến triển đến giai đoạn muộn, khả năng điều trị thành công giảm đi đáng kể. Do đó, nam giới trên 50 tuổi nên thực hiện tầm soát ung thư tuyến tiền liệt ngay cả khi không có triệu chứng.","link":"https://vnexpress.net/vi-sao-ung-thu-tuyen-tien-liet-thuong-phat-hien-muon-4853752.html","cat":"suc-khoe","positivity":5,"importance":8,"question":"Vì sao ung thư tuyến tiền liệt thường phát hiện muộn?","answers":[{"text":"Vì giai đoạn đầu của bệnh không có triệu chứng rõ ràng.","correct":true},{"text":"Vì bệnh chỉ xuất hiện triệu chứng khi đã tiến triển nặng.","correct":false},{"text":"Vì người bệnh không đi khám sức khỏe định kỳ.","correct":false},{"text":"Vì triệu chứng của bệnh thường nhầm lẫn với các bệnh khác.","correct":false}]},{"title":"Chủ tịch tỉnh yêu cầu chuyển công tác trưởng phòng tài nguyên vì vắng họp","content":"Chủ tịch UBND tỉnh Quảng Nam, ông Lê Văn Dũng, đã yêu cầu chuyển công tác Trưởng phòng Tài nguyên và Môi trường huyện Núi Thành do vắng mặt hai lần tại các cuộc họp quan trọng về giải phóng mặt bằng. Ông Dũng bày tỏ sự bức xúc khi một phòng tham mưu chính không có mặt trong các buổi làm việc quan trọng. Ông yêu cầu lãnh đạo huyện Núi Thành rà soát các dự án chậm tiến độ và nhấn mạnh tầm quan trọng của việc triển khai các dự án mới để thúc đẩy tăng trưởng kinh tế trong năm 2025.","link":"https://dantri.com.vn/xa-hoi/chu-tich-tinh-yeu-cau-chuyen-cong-tac-truong-phong-tai-nguyen-vi-vang-hop-20250225143940520.htm","cat":"thoi-su","positivity":4,"importance":7,"question":"Tại sao Chủ tịch tỉnh Quảng Nam yêu cầu chuyển công tác Trưởng phòng Tài nguyên và Môi trường?","answers":[{"text":"Vì Trưởng phòng vắng mặt hai lần tại cuộc họp quan trọng.","correct":true},{"text":"Vì Trưởng phòng không hoàn thành nhiệm vụ.","correct":false},{"text":"Vì Trưởng phòng không báo cáo kịp thời.","correct":false},{"text":"Vì Trưởng phòng có ý kiến trái chiều.","correct":false},{"text":"Vì Trưởng phòng không hỗ trợ dự án.","correct":false}]},{"title":"Phong cách Phương Oanh khi làm mẹ","content":"Diễn viên Phương Oanh nổi bật với phong cách thời trang hiện đại và thoải mái khi làm mẹ. Cô ưu tiên những trang phục đơn giản, gọn gàng để dễ dàng chăm sóc con nhỏ, như áo phông và quần jeans. Sau khi sinh, Phương Oanh đã nhanh chóng lấy lại vóc dáng và thường xuyên chọn những thiết kế màu đen để tôn dáng. Cô cũng thường xuyên được khen ngợi về gu thời trang tinh tế và sự duyên dáng khi xuất hiện ở các sự kiện.","link":"https://vnexpress.net/phong-cach-phuong-oanh-khi-lam-me-4853794.html","cat":"giai-tri","positivity":9,"importance":7,"question":"Phong cách thời trang của Phương Oanh khi làm mẹ là gì?","answers":[{"text":"Cô ưu tiên trang phục đơn giản, gọn gàng để chăm sóc con nhỏ.","correct":true},{"text":"Cô thường chọn trang phục cầu kỳ và phức tạp.","correct":false},{"text":"Cô chỉ mặc đồ thể thao khi ở nhà.","correct":false},{"text":"Cô không chú ý đến trang phục khi chăm sóc con.","correct":false}]}];

    // Pagination & filtering
    let pageSize = 10;
    let currentIndex = 0;
    let isLoading = false;

    // Score
    let userScore = parseInt(localStorage.getItem("userScore")) || 0;
    let currentFilter = localStorage.getItem("filter") || "important";
    
    // Sound enabled?
    let soundEnabled = false; // default OFF

    // DOM elements
    const scoreboardElem = document.getElementById("user-score");
    const newsContainer = document.getElementById("news-container");
    const loadingElem = document.getElementById("loading");
    const filterDropdown = document.getElementById("news-filter");
    const backToTopBtn = document.getElementById("back-to-top");
    const celebrationElem = document.getElementById("celebration");

    // Audio elements
    const bgMusic = document.getElementById("bg-music");
    const correctSound = document.getElementById("correct-sound");
    const incorrectSound = document.getElementById("incorrect-sound");

    // Buttons
    const themeToggleBtn = document.getElementById("toggle-theme");
    const soundToggleBtn = document.getElementById("toggle-sound");

    // Initialize scoreboard
    scoreboardElem.textContent = userScore;

    // Set dropdown value
    filterDropdown.value = currentFilter;

    // FIRST-TIME USER OVERLAY
    let isFirstTimeUser = localStorage.getItem("firstTimeUser");
    if (!isFirstTimeUser) {
      document.getElementById("tutorial-overlay").classList.remove("hidden");
    }
    document.getElementById("tutorial-close-btn").addEventListener("click", () => {
      localStorage.setItem("firstTimeUser", "false");
      document.getElementById("tutorial-overlay").classList.add("hidden");
    });

    // THEMING
    function initTheme() {
      const savedTheme = localStorage.getItem("theme") || "light";
      document.body.setAttribute("data-theme", savedTheme);
      themeToggleBtn.textContent = savedTheme === "dark" ? "Light Mode" : "Dark Mode";
    }
    initTheme();

    function toggleTheme() {
      const currentTheme = document.body.getAttribute("data-theme");
      const newTheme = currentTheme === "dark" ? "light" : "dark";
      document.body.setAttribute("data-theme", newTheme);
      localStorage.setItem("theme", newTheme);
      themeToggleBtn.textContent = newTheme === "dark" ? "Light Mode" : "Dark Mode";
    }

    // SOUND
    function toggleSound() {
      soundEnabled = !soundEnabled;
      soundToggleBtn.textContent = soundEnabled ? "Sound ON" : "Sound OFF";

      if (soundEnabled) {
        bgMusic.play().catch(() => {
          // Some browsers block autoplay
          console.warn("Background music couldn't play automatically.");
        });
      } else {
        bgMusic.pause();
        bgMusic.currentTime = 0;
      }
    }

    function playCorrectSound() {
      if (soundEnabled) correctSound.play();
    }
    function playIncorrectSound() {
      if (soundEnabled) incorrectSound.play();
    }

    // FILTER NEWS
    function getFilteredNewsData() {
      switch (currentFilter) {
        case "important":
          return newsData.filter(item => item.importance >= 8);
        case "positive":
          return newsData.filter(item => item.positivity >= 8);
        case "the-gioi":
        case "thoi-su":
        case "kinh-doanh":
        case "giai-tri":
        case "the-thao":
        case "phap-luat":
        case "giao-duc":
        case "suc-khoe":
        case "gia-dinh":
        case "du-lich":
        case "cong-nghe":
        case "oto-xe-may":
        case "y-kien":
          return newsData.filter(item => item.cat === currentFilter);
        case "tin-khac":
          return newsData.filter(item => 
            !['the-gioi', 'thoi-su', 'kinh-doanh', 'giai-tri', 'the-thao', 
             'phap-luat', 'giao-duc', 'suc-khoe', 'gia-dinh', 'du-lich', 
             'cong-nghe', 'oto-xe-may', 'y-kien'].includes(item.cat)
          );
        default:
          return newsData;
      }
    }

    // CONFETTI
    function triggerConfetti() {
      const confettiCount = 20;
      for (let i = 0; i < confettiCount; i++) {
        const confetti = document.createElement("div");
        confetti.classList.add('confetti');
        confetti.style.left = Math.random() * 100 + '%';
        // random color
        const hue = Math.floor(Math.random() * 360);
        confetti.style.backgroundColor = `hsl(${hue}, 100%, 50%)`;

        document.body.appendChild(confetti);
        setTimeout(() => confetti.remove(), 1500);
      }
    }

    // CELEBRATION OVERLAY
    function showCelebration() {
      celebrationElem.classList.add('show');
      // Trigger confetti
      triggerConfetti();

      setTimeout(() => {
        celebrationElem.classList.remove('show');
      }, 1500);
    }

    // RENDER Q&A
    function renderQuestionAndAnswers(item, container, newsId) {
      const answeredKey = "answered_" + newsId;

      const contentElem = document.createElement("p");
      contentElem.textContent = item.content || "";

      const linkElem = document.createElement("a");
      linkElem.className = "news-link";
      linkElem.href = "#" + newsId;
      linkElem.textContent = item.link || "Đọc thêm...";
      linkElem.onclick = () => openNewTab(item.link);

      // Build Q&A
      const questionElem = document.createElement("p");
      questionElem.id = newsId;
      questionElem.style.fontWeight = "bold";
      questionElem.textContent = item.question || "Câu hỏi:";
      container.appendChild(questionElem);

      const shuffledAnswers = shuffleArray([...item.answers]);

      const answersContainer = document.createElement("div");
      answersContainer.style.margin = "8px 0";

      shuffledAnswers.forEach(answer => {
        const answerBtn = document.createElement("button");
        answerBtn.className = "answer-btn";
        answerBtn.textContent = answer.text;
        // If user already answered and this is correct
        if (localStorage.getItem(answeredKey) && answer.correct) {
          answerBtn.classList.add("correct");
        }

        answerBtn.addEventListener("click", () => {
          if (localStorage.getItem(answeredKey)) {
            return; // already answered
          }
          if (answer.correct) {
            // Correct
            userScore++;
            localStorage.setItem("userScore", userScore);
            scoreboardElem.textContent = userScore;

            answerBtn.classList.add("correct");
            localStorage.setItem(answeredKey, "true");
            playCorrectSound();
            showCelebration();
          } else {
            // Incorrect
            answerBtn.classList.add("incorrect");
            setTimeout(() => {
              answerBtn.classList.remove("incorrect");
            }, 500);

            playIncorrectSound();

            const messages = [
              "Ôi không! Thử lại nào!",
              "Sai rồi... nhưng bạn vẫn còn cơ hội!",
              "Chưa đúng, đừng bỏ cuộc!",
              "Ồ, chưa chính xác. Hãy thử tiếp!"
            ];
            const randomMsg = messages[Math.floor(Math.random() * messages.length)];
            alert(randomMsg);
          }
        });
        answersContainer.appendChild(answerBtn);
      });

      container.appendChild(answersContainer);
      container.appendChild(contentElem);
      container.appendChild(linkElem);
    }

    // LOAD MORE NEWS
    function loadMoreNews() {
      if (isLoading) return;
      isLoading = true;
      loadingElem.style.display = "block";

      setTimeout(() => {
        const filteredNews = getFilteredNewsData();
        const nextBatch = filteredNews.slice(currentIndex, currentIndex + pageSize);

        if (filteredNews.length === 0 && currentIndex === 0) {
          newsContainer.innerHTML = "<p>Không có bài viết phù hợp với bộ lọc.</p>";
          loadingElem.style.display = "none";
          window.removeEventListener("scroll", handleScroll);
          isLoading = false;
          return;
        }

        nextBatch.forEach(item => {
          const newsItem = document.createElement("div");
          newsItem.classList.add("news-item");

          const newsId = convertVietnameseToEnglish(item.title || "untitled");
          renderQuestionAndAnswers(item, newsItem, newsId);

          newsContainer.appendChild(newsItem);
        });

        currentIndex += pageSize;
        isLoading = false;

        if (currentIndex >= filteredNews.length) {
          loadingElem.style.display = "none";
          window.removeEventListener("scroll", handleScroll);
        }
      }, 500); 
    }

    // SCROLL EVENTS
    function handleScroll() {
      if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 200) {
        pushDataLayer({event: 'load_more_news'});
        loadMoreNews();
      }
      backToTopBtn.style.display = window.scrollY > 300 ? "block" : "none";
    }

    // FILTER CHANGE
    function onFilterChange() {
      currentFilter = filterDropdown.value;
      localStorage.setItem("filter", currentFilter);
      pushDataLayer({event: 'filter_changed_' + currentFilter});
      currentIndex = 0;
      newsContainer.innerHTML = "";
      loadingElem.style.display = "block";
      window.addEventListener("scroll", handleScroll);
      loadMoreNews();
    }

    // SMOOTH SCROLL TO TOP
    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
      pushDataLayer({event: 'scroll_to_top'});
    }

    // UTILS
    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function pushDataLayer(data) {
      window.dataLayer = window.dataLayer || [];
      window.dataLayer.push(data);
    }

    function openNewTab(link) {
      pushDataLayer({event: 'view_details'});
      window.open(link, '_self');
    }

    function convertVietnameseToEnglish(str) {
      str = str.toLowerCase();
      str = str.normalize('NFD');
      str = str.replace(/[\u0300-\u036f]/g, '');
      str = str.replace(/đ/g, 'd');
      str = str.replace(/[^a-z0-9\s-]/g, '');
      return str.trim().replace(/\s+/g, '-');
    }

    // INITIAL SETUP
    loadMoreNews();
    window.addEventListener("scroll", handleScroll);

    // EVENT LISTENERS
    filterDropdown.addEventListener("change", onFilterChange);
    backToTopBtn.addEventListener("click", scrollToTop);
    themeToggleBtn.addEventListener("click", toggleTheme);
    soundToggleBtn.addEventListener("click", toggleSound);
  </script>
</body>
</html>